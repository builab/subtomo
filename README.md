# Scripts used for subtomogram averaging


## Installation

conda create -n subtomo python=3.8

conda activate subtomo

pip install eulerangles

pip install numpy

pip install pandas

pip install dynamotable


## Convert Axoneme Align Project To Input Relion 4 Star File

***python convert_dmt_aa2relion4.py --i list_doublet_ida_v1.txt --ostar input.star --angpix pixelSize --bin binFactor --frac_dose fractionDose***

The script will read the doc and star files noted in the list to convert to relion.

pixelSize = pixel size of current tomogram.

binFactor = Binning of current tomogram.

fractionDose = Electron dose per view


The output star file can be used as the input for Relion 4.0

NOTE: This script still doesn't convert the shift.

e.g. convert_dmt_aa2relion4.py --i list_doublet_ida_v1.txt --ostar input.star --angpix 8.48 --bin 4 --frac_dose 2


## Select subtomo based on Chimera cmm file

***python cmm2dynamotable.py --i table.tbl --o table_out.tbl --cmm sel_markers.cmm***


Trim the Dynamo table to selected subtomos based on a Chimera cmm file

The cmm must be generated by dynamo_table2cmm first before cleaning in Chimera/ChimeraX

